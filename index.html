<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Guia Completo - Visto Turista EUA</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      /* Tema Escuro (padrão) */
      --primary-color: #4fa3ff;
      --secondary-color: #357ad1;
      --dark-bg: #121212;
      --card-bg: #1e1e1e;
      --text-color: #f1f1f1;
      --hover-color: #3a8bde;
      --section-bg: rgba(255,255,255,0.03);
      --nav-bg: #1e1e1e;
      --border-color: rgba(255,255,255,0.1);
    }
    
    /* Tema Claro */
    [data-theme="light"] {
      --primary-color: #0066cc;
      --secondary-color: #0052a3;
      --dark-bg: #f5f5f5;
      --card-bg: #ffffff;
      --text-color: #333333;
      --hover-color: #0052a3;
      --section-bg: rgba(0,0,0,0.03);
      --nav-bg: #ffffff;
      --border-color: rgba(0,0,0,0.1);
    }
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--dark-bg);
      color: var(--text-color);
      line-height: 1.6;
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    header, footer {
      background: var(--card-bg);
      color: var(--text-color);
      padding: 15px 20px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      transition: background-color 0.3s ease, color 0.3s ease;
    }
    
    header img.logo, footer img.logo {
      height: 80px;
      border-radius: 8px;
    }
    
    header h1 {
      font-size: 1.8rem;
      color: var(--primary-color);
      text-align: center;
      flex-grow: 1;
    }
    
    .theme-toggle {
      background: none;
      border: none;
      color: var(--text-color);
      font-size: 1.5rem;
      cursor: pointer;
      padding: 8px;
      border-radius: 50%;
      transition: all 0.3s ease;
    }
    
    .theme-toggle:hover {
      background-color: var(--section-bg);
    }
    
    nav {
      position: sticky;
      top: 0;
      background: var(--nav-bg);
      display: flex;
      justify-content: center;
      gap: 15px;
      padding: 12px;
      z-index: 1000;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      overflow-x: auto;
      transition: background-color 0.3s ease;
    }
    
    nav a {
      color: var(--text-color);
      text-decoration: none;
      font-weight: 600;
      font-size: 14px;
      padding: 8px 12px;
      border-radius: 6px;
      transition: all 0.3s ease;
      white-space: nowrap;
    }
    
    nav a:hover {
      background-color: var(--section-bg);
      color: var(--primary-color);
    }
    
    .lang-switch {
      text-align: center;
      margin: 20px 0;
      padding: 10px;
    }
    
    .lang-switch img {
      width: 40px;
      height: 40px;
      margin: 0 8px;
      cursor: pointer;
      border-radius: 50%;
      border: 2px solid transparent;
      transition: all 0.3s ease;
    }
    
    .lang-switch img:hover, .lang-switch img.active {
      border-color: var(--primary-color);
      transform: scale(1.1);
    }
    
    .container {
      max-width: 1000px;
      margin: 20px auto;
      padding: 25px;
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
      transition: background-color 0.3s ease;
    }
    
    .section {
      display: flex;
      align-items: flex-start;
      gap: 25px;
      margin-bottom: 40px;
      padding: 20px;
      border-radius: 10px;
      background: var(--section-bg);
      transition: transform 0.3s ease, background-color 0.3s ease;
    }
    
    .section:hover {
      transform: translateY(-5px);
    }
    
    .section img {
      width: 300px;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      object-fit: cover;
    }
    
    .section-content {
      flex: 1;
    }
    
    .section-content p, .section-content ul {
      margin-top: 15px;
    }
    
    .section-content ul {
      padding-left: 20px;
    }
    
    .section-content li {
      margin-bottom: 10px;
    }
    
    h2 {
      color: var(--primary-color);
      margin-top: 0;
      font-size: 1.8rem;
      position: relative;
      padding-bottom: 10px;
    }
    
    h2:after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 60px;
      height: 3px;
      background-color: var(--primary-color);
    }
    
    .social-buttons {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-top: 40px;
    }
    
    .social-buttons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background-color: var(--section-bg);
      color: var(--text-color);
      text-decoration: none;
      transition: all 0.3s ease;
    }
    
    .social-buttons a:hover {
      background-color: var(--primary-color);
      color: white;
      transform: translateY(-5px);
    }
    
    .social-buttons i {
      font-size: 1.4rem;
    }
    
    #en, #es, #conteudo-guia {
      display: none;
    }
    
    iframe {
      width: 100%;
      height: 600px;
      border: none;
      border-radius: 12px;
      margin-bottom: 20px;
    }
    
    .form-container {
      text-align: center;
    }
    
    button {
      padding: 12px 25px;
      background-color: var(--primary-color);
      border: none;
      border-radius: 8px;
      color: #fff;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 10px;
    }
    
    button:hover {
      background-color: var(--secondary-color);
      transform: translateY(-2px);
    }
    
    .pdf-download {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background-color: var(--primary-color);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 10px rgba(0,0,0,0.3);
      cursor: pointer;
      z-index: 1000;
      transition: all 0.3s ease;
    }
    
    .pdf-download:hover {
      background-color: var(--secondary-color);
      transform: scale(1.1);
    }
    
    .pdf-download i {
      font-size: 1.5rem;
    }
    
    .loading {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.7);
      z-index: 2000;
      justify-content: center;
      align-items: center;
      flex-direction: column;
    }
    
    .loading-spinner {
      border: 5px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top: 5px solid var(--primary-color);
      width: 50px;
      height: 50px;
      animation: spin 1s linear infinite;
    }
    
    .loading-text {
      color: white;
      margin-top: 15px;
      font-size: 1.2rem;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    .notification {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 15px 25px;
      background-color: #4CAF50;
      color: white;
      border-radius: 8px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.2);
      z-index: 2000;
      transform: translateX(150%);
      transition: transform 0.5s ease;
    }
    
    .notification.show {
      transform: translateX(0);
    }
    
    @media (max-width: 800px) {
      header {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }
      
      header h1 {
        font-size: 1.5rem;
      }
      
      .section {
        flex-direction: column;
        align-items: center;
      }
      
      .section img {
        width: 100%;
        max-width: 400px;
      }
      
      .section-content {
        text-align: left;
      }
      
      .pdf-download {
        width: 50px;
        height: 50px;
        bottom: 20px;
        right: 20px;
      }
      
      .pdf-download i {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>
  <header>
    <img src="img/logo.JPEG" alt="Logo" class="logo">
    <h1>Guia Completo - Visto de Turista EUA</h1>
    <button class="theme-toggle" id="theme-toggle" title="Alternar tema">
      <i class="fas fa-moon"></i>
    </button>
  </header>
  
  <nav>
    <a href="#introducao">Introdução</a>
    <a href="#documentacao">Documentação</a>
    <a href="#entrevista">Agendamento</a>
    <a href="#preparar">Preparação</a>
    <a href="#negado">Negado</a>
    <a href="#aprovado">Aprovado</a>
  </nav>
  
  <div class="lang-switch">
    <img src="img/brasil.PNG" alt="Português" onclick="switchLang('pt')" class="active">
    <img src="img/estadosunidos.PNG" alt="English" onclick="switchLang('en')">
    <img src="img/espanha.PNG" alt="Español" onclick="switchLang('es')">
  </div>
  
  <!-- Formulário -->
  <div class="container" id="formulario">
    <h2>Antes de continuar, deixe seu telefone e e-mail:</h2>
    <div class="form-container">
      <iframe src="https://docs.google.com/forms/d/e/1FAIpQLSdgp7mYwVICF4BV6r6ebgTvSNUxFwAlB2QVsv9g_Zbg7jNdmA/viewform?usp=header">
        Carregando formulário...
      </iframe>
      <button id="confirm-form" onclick="mostrarGuia()">Confirmar envio</button>
    </div>
  </div>
  
  <!-- Conteúdo do Guia -->
  <div id="conteudo-guia">
    <!-- Português -->
    <div class="container" id="pt">
      <div class="section" id="introducao">
        <img src="img/Introducao.JPEG" alt="Introdução">
        <div class="section-content">
          <h2>Introdução</h2>
          <p>O visto de turista (categoria B1/B2) é destinado a pessoas que desejam visitar os Estados Unidos por motivos temporários, como lazer, turismo, visita a amigos ou familiares, tratamentos médicos ou compromissos de negócios que <strong>não envolvam trabalho remunerado</strong>.</p>
          <p>Este visto <strong>não permite emprego nem estudo de longa duração</strong>, e o solicitante deve demonstrar <strong>fortes vínculos com o Brasil</strong>, comprovando a intenção de retornar ao país após a viagem.</p>
        </div>
      </div>
      
      <div class="section" id="documentacao">
        <img src="img/documentacao.JPEG" alt="Documentação">
        <div class="section-content">
          <h2>Documentação Necessária</h2>
          <p>Para solicitar o visto de turista, é necessário reunir os seguintes documentos:</p>
          <ul>
            <li><strong>Passaporte válido:</strong> Deve ter validade mínima de seis meses além da data prevista de entrada nos EUA.</li>
            <li><strong>Formulário DS-160 preenchido:</strong> Formulário eletrônico obrigatório, disponível online, que coleta informações pessoais, profissionais e sobre a viagem.</li>
            <li><strong>Foto recente:</strong> Deve seguir o padrão exigido pelo Departamento de Estado dos EUA (5x5 cm, fundo branco, sem óculos, com expressão neutra).</li>
            <li><strong>Comprovantes de renda e vínculos com o Brasil:</strong> Podem incluir contracheques, extratos bancários, declarações de imposto de renda, matrícula escolar, certidão de casamento ou documentos de imóveis.</li>
            <li><strong>Recibo de pagamento da taxa MRV:</strong> Comprova o pagamento da taxa de solicitação de visto, atualmente em torno de US$185.</li>
          </ul>
        </div>
      </div>
      
      <div class="section" id="entrevista">
        <img src="img/agendamento.PNG" alt="Agendamento">
        <div class="section-content">
          <h2>Agendamento da Entrevista</h2>
          <p>Após preencher o formulário DS-160 e pagar a taxa MRV, acesse o site oficial do CASV ou da Embaixada/Consulado dos EUA para agendar sua entrevista. Em muitas cidades brasileiras, o processo envolve duas etapas:</p>
          <ul>
            <li>Comparecer ao CASV para coleta de foto e digitais.</li>
            <li>Realizar a entrevista consular em outro momento.</li>
          </ul>
        </div>
      </div>
      
      <div class="section" id="preparar">
        <img src="img/preparar.JPEG" alt="Preparar Entrevista">
        <div class="section-content">
          <h2>Como se preparar para a entrevista?</h2>
          <p>A entrevista é uma etapa essencial. O oficial consular fará perguntas sobre sua viagem, trabalho, renda e vínculos com o Brasil. Para aumentar suas chances de aprovação:</p>
          <ul>
            <li>Leve todos os documentos organizados, mesmo que nem todos sejam solicitados.</li>
            <li>Seja claro e honesto em suas respostas.</li>
            <li>Demonstre segurança e tranquilidade durante a conversa.</li>
            <li>Mostre que você tem motivos concretos para retornar ao Brasil, como trabalho fixo, família ou estudos.</li>
          </ul>
        </div>
      </div>
      
      <div class="section" id="negado">
        <img src="img/negado.JPEG" alt="Negado">
        <div class="section-content">
          <h2>E se o visto for negado?</h2>
          <p>Caso o visto seja negado, o motivo será informado com base na seção da lei de imigração correspondente (normalmente a 214(b), por falta de vínculos). Você pode reaplicar a qualquer momento, mas é importante:</p>
          <ul>
            <li>Revisar sua documentação, corrigir falhas e reunir mais evidências de vínculos.</li>
            <li>Estar melhor preparado para a próxima entrevista, ajustando seu discurso e expectativas.</li>
          </ul>
          <p>Vale lembrar que o pagamento da taxa MRV não é reembolsável.</p>
        </div>
      </div>
      
      <div class="section" id="aprovado">
        <img src="img/aprovado.JPG" alt="Aprovado">
        <div class="section-content">
          <h2>Após a aprovação</h2>
          <ul>
            <li>O passaporte ficará retido por alguns dias para que o visto seja impresso.</li>
            <li>Você poderá acompanhar o status pelo site do CASV.</li>
            <li>Normalmente, o passaporte é entregue em até 10 dias úteis, dependendo da cidade.</li>
            <li>O visto de turista geralmente tem validade de 10 anos, com múltiplas entradas permitidas, mas cada entrada permite permanência de até 6 meses, a critério da imigração no momento da chegada.</li>
          </ul>
        </div>
      </div>
      
      <div class="social-buttons">
        <a href="https://wa.me/5511942689289" target="_blank"><i class="fab fa-whatsapp"></i></a>
        <a href="https://www.instagram.com/legacygroup_brasil/" target="_blank"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
    
    <!-- Inglês -->
    <div class="container" id="en">
      <div class="section">
        <img src="img/Introducao.JPEG" alt="Introduction">
        <div class="section-content">
          <h2>Introduction</h2>
          <p>The tourist visa (B1/B2) is intended for individuals who wish to visit the United States for temporary purposes, such as leisure, tourism, visiting friends or family, medical treatments, or business appointments that <strong>do not involve paid employment</strong>.</p>
          <p>This visa <strong>does not allow work or long-term study</strong>, and applicants must demonstrate <strong>strong ties to their home country</strong>, showing their intention to return after their visit.</p>
        </div>
      </div>
      
      <div class="section">
        <img src="img/documentacao.JPEG" alt="Documentation">
        <div class="section-content">
          <h2>Required Documents</h2>
          <p>To apply for a tourist visa, you need to gather the following documents:</p>
          <ul>
            <li><strong>Valid passport:</strong> Must be valid for at least six months beyond the intended date of entry into the U.S.</li>
            <li><strong>Completed DS-160 form:</strong> Mandatory online form collecting personal, professional, and travel information.</li>
            <li><strong>Recent photo:</strong> Must follow U.S. State Department requirements (2x2 inches, white background, no glasses, neutral expression).</li>
            <li><strong>Proof of income and ties to home country:</strong> Can include pay stubs, bank statements, tax returns, school enrollment, marriage certificate, or property ownership documents.</li>
            <li><strong>MRV fee receipt:</strong> Confirms payment of the visa application fee, currently around US$185.</li>
          </ul>
        </div>
      </div>
      
      <div class="section">
        <img src="img/agendamento.PNG" alt="Scheduling">
        <div class="section-content">
          <h2>Interview Scheduling</h2>
          <p>After completing the DS-160 and paying the MRV fee, access the official CASV or U.S. Embassy/Consulate website to schedule your interview. In many Brazilian cities, the process involves two steps:</p>
          <ul>
            <li>Attend the CASV for photo and fingerprint collection.</li>
            <li>Attend the consular interview at a later date.</li>
          </ul>
        </div>
      </div>
      
      <div class="section">
        <img src="img/preparar.JPEG" alt="Preparation">
        <div class="section-content">
          <h2>How to Prepare for the Interview?</h2>
          <p>The interview is a critical step. The consular officer will ask questions about your trip, work, income, and ties to your home country. To increase your chances of approval:</p>
          <ul>
            <li>Bring all documents organized, even if not all are requested.</li>
            <li>Be clear and honest in your answers.</li>
            <li>Show confidence and calmness during the conversation.</li>
            <li>Demonstrate concrete reasons to return home, like stable job, family, or studies.</li>
          </ul>
        </div>
      </div>
      
      <div class="section">
        <img src="img/negado.JPEG" alt="Denied">
        <div class="section-content">
          <h2>If Visa is Denied</h2>
          <p>If your visa is denied, the reason will be informed according to the immigration law section (usually 214(b), due to lack of ties). You can reapply anytime, but it's important to:</p>
          <ul>
            <li>Review your documents, fix mistakes, and gather more proof of ties.</li>
            <li>Be better prepared for the next interview, adjusting your explanation and expectations.</li>
          </ul>
          <p>Note: The MRV fee is non-refundable.</p>
        </div>
      </div>
      
      <div class="section">
        <img src="img/aprovado.JPG" alt="Approved">
        <div class="section-content">
          <h2>After Approval</h2>
          <ul>
            <li>Your passport will be retained for a few days for visa printing.</li>
            <li>You can track the status on the CASV website.</li>
            <li>Usually, the passport is delivered within 10 business days, depending on the city.</li>
            <li>The tourist visa typically has a 10-year validity with multiple entries allowed, but each entry may permit a stay of up to 6 months at the discretion of U.S. immigration.</li>
          </ul>
        </div>
      </div>
      
      <div class="social-buttons">
        <a href="https://wa.me/5511942689289" target="_blank"><i class="fab fa-whatsapp"></i></a>
        <a href="https://www.instagram.com/legacygroup_brasil/" target="_blank"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
    
    <!-- Espanhol -->
    <div class="container" id="es">
      <div class="section">
        <img src="img/Introducao.JPEG" alt="Introducción">
        <div class="section-content">
          <h2>Introducción</h2>
          <p>La visa de turista (categoría B1/B2) está destinada a personas que desean visitar los Estados Unidos por motivos temporales, como ocio, turismo, visitar amigos o familiares, tratamientos médicos o citas de negocios que <strong>no involucren empleo remunerado</strong>.</p>
          <p>Esta visa <strong>no permite trabajar ni estudiar a largo plazo</strong> y los solicitantes deben demostrar <strong>vínculos sólidos con su país de origen</strong>, mostrando la intención de regresar después de la visita.</p>
        </div>
      </div>
      
      <div class="section">
        <img src="img/documentacao.JPEG" alt="Documentación">
        <div class="section-content">
          <h2>Documentación Necesaria</h2>
          <p>Para solicitar la visa de turista, debe reunir los siguientes documentos:</p>
          <ul>
            <li><strong>Pasaporte válido:</strong> Debe tener una validez mínima de seis meses más allá de la fecha prevista de entrada a los EE. UU.</li>
            <li><strong>Formulario DS-160 completo:</strong> Formulario electrónico obligatorio que recopila información personal, profesional y de viaje.</li>
            <li><strong>Foto reciente:</strong> Debe cumplir con los requisitos del Departamento de Estado de EE. UU. (5x5 cm, fondo blanco, sin gafas, expresión neutra).</li>
            <li><strong>Comprobantes de ingresos y vínculos con el país de origen:</strong> Pueden incluir recibos de sueldo, extractos bancarios, declaraciones de impuestos, matrícula escolar, certificado de matrimonio o documentos de propiedad.</li>
            <li><strong>Recibo de pago de la tasa MRV:</strong> Confirma el pago de la tasa de solicitud de visa, actualmente alrededor de US$185.</li>
          </ul>
        </div>
      </div>
      
      <div class="section">
        <img src="img/agendamento.PNG" alt="Agendamiento">
        <div class="section-content">
          <h2>Programación de la Entrevista</h2>
          <p>Después de completar el DS-160 y pagar la tasa MRV, acceda al sitio oficial del CASV o de la Embajada/Consulado de EE. UU. para programar su entrevista. En muchas ciudades brasileñas, el proceso implica dos pasos:</p>
          <ul>
            <li>Asistir al CASV para la toma de foto y huellas digitales.</li>
            <li>Asistir a la entrevista consular en otra fecha.</li>
          </ul>
        </div>
      </div>
      
      <div class="section">
        <img src="img/preparar.JPEG" alt="Preparación">
        <div class="section-content">
          <h2>Cómo Prepararse para la Entrevista?</h2>
          <p>La entrevista es un paso esencial. El oficial consular hará preguntas sobre su viaje, trabajo, ingresos y vínculos con su país de origen. Para aumentar sus posibilidades de aprobación:</p>
          <ul>
            <li>Lleve todos los documentos organizados, incluso si no todos son solicitados.</li>
            <li>Sea claro y honesto en sus respuestas.</li>
            <li>Muestre seguridad y tranquilidad durante la conversación.</li>
            <li>Demuestre motivos concretos para regresar a su país, como trabajo estable, familia o estudios.</li>
          </ul>
        </div>
      </div>
      
      <div class="section">
        <img src="img/negado.JPEG" alt="Negado">
        <div class="section-content">
          <h2>Si la Visa es Negada</h2>
          <p>Si su visa es negada, el motivo será informado según la sección de la ley de inmigración correspondiente (normalmente 214(b), por falta de vínculos). Puede volver a aplicar en cualquier momento, pero es importante:</p>
          <ul>
            <li>Revisar los documentos, corregir errores y reunir más pruebas de vínculos.</li>
            <li>Estar mejor preparado para la siguiente entrevista, ajustando su discurso y expectativas.</li>
          </ul>
          <p>Recuerde: La tasa MRV no es reembolsable.</p>
        </div>
      </div>
      
      <div class="section">
        <img src="img/aprovado.JPG" alt="Aprobado">
        <div class="section-content">
          <h2>Después de la Aprobación</h2>
          <ul>
            <li>El pasaporte será retenido por algunos días para imprimir la visa.</li>
            <li>Puede seguir el estado en el sitio web del CASV.</li>
            <li>Normalmente, el pasaporte se entrega en hasta 10 días hábiles, según la ciudad.</li>
            <li>La visa de turista suele tener una validez de 10 años, con entradas múltiples permitidas, pero cada entrada permite una estancia de hasta 6 meses según la discreción de inmigración en la llegada.</li>
          </ul>
        </div>
      </div>
      
      <div class="social-buttons">
        <a href="https://wa.me/5511942689289" target="_blank"><i class="fab fa-whatsapp"></i></a>
        <a href="https://www.instagram.com/legacygroup_brasil/" target="_blank"><i class="fab fa-instagram"></i></a>
      </div>
    </div>
  </div>
  
  <footer>
    <img src="img/logo.JPEG" alt="Logo" class="logo">
    <p>© 2025 Legacy Group Brasil</p>
  </footer>
  
  <!-- Botão de Download PDF -->
  <div class="pdf-download" id="pdf-download" onclick="generatePDF()" style="display: none;" title="Baixar como PDF">
    <i class="fas fa-file-pdf"></i>
  </div>
  
  <!-- Tela de Loading -->
  <div class="loading" id="loading">
    <div class="loading-spinner"></div>
    <div class="loading-text">Gerando PDF...</div>
  </div>
  
  <!-- Notificação -->
  <div class="notification" id="notification">
    PDF gerado com sucesso!
  </div>
  
  <!-- Scripts necessários para gerar PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  
  <script>
    let currentLang = 'pt';
    
    // Verifica se há um tema salvo no localStorage
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) {
      document.documentElement.setAttribute('data-theme', savedTheme);
      updateThemeIcon(savedTheme);
    }
    
    // Função para alternar entre temas
    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'light' ? 'dark' : 'light';
      
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
      updateThemeIcon(newTheme);
    }
    
    // Função para atualizar o ícone do tema
    function updateThemeIcon(theme) {
      const themeIcon = document.querySelector('#theme-toggle i');
      if (theme === 'light') {
        themeIcon.classList.remove('fa-moon');
        themeIcon.classList.add('fa-sun');
      } else {
        themeIcon.classList.remove('fa-sun');
        themeIcon.classList.add('fa-moon');
      }
    }
    
    // Adiciona evento de clique ao botão de tema
    document.getElementById('theme-toggle').addEventListener('click', toggleTheme);
    
    function switchLang(lang) {
      currentLang = lang;
      ['pt','en','es'].forEach(l => {
        document.getElementById(l).style.display = (l === lang) ? 'block' : 'none';
      });
      
      // Atualiza o estado ativo das bandeiras
      document.querySelectorAll('.lang-switch img').forEach(img => {
        img.classList.remove('active');
      });
      event.target.classList.add('active');
    }
    
    function mostrarGuia() {
      document.getElementById('formulario').style.display = 'none';
      document.getElementById('conteudo-guia').style.display = 'block';
      document.getElementById('pdf-download').style.display = 'flex';
      switchLang('pt'); // inicia em português
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // Função para gerar PDF
    async function generatePDF() {
      const { jsPDF } = window.jspdf;
      const loading = document.getElementById('loading');
      const notification = document.getElementById('notification');
      
      // Mostra a tela de loading
      loading.style.display = 'flex';
      
      // Obtém o conteúdo atual com base no idioma selecionado
      const content = document.getElementById(currentLang);
      
      try {
        // Cria um canvas a partir do conteúdo HTML
        const canvas = await html2canvas(content, {
          scale: 2,
          useCORS: true,
          allowTaint: true,
          scrollX: 0,
          scrollY: 0
        });
        
        const imgData = canvas.toDataURL('image/png');
        const pdf = new jsPDF('p', 'mm', 'a4');
        const imgWidth = 210; // Largura A4 em mm
        const pageHeight = 295; // Altura A4 em mm
        const imgHeight = canvas.height * imgWidth / canvas.width;
        let heightLeft = imgHeight;
        let position = 0;
        
        // Adiciona a primeira página
        pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
        heightLeft -= pageHeight;
        
        // Adiciona páginas adicionais se necessário
        while (heightLeft >= 0) {
          position = heightLeft - imgHeight;
          pdf.addPage();
          pdf.addImage(imgData, 'PNG', 0, position, imgWidth, imgHeight);
          heightLeft -= pageHeight;
        }
        
        // Define o nome do arquivo com base no idioma
        let fileName = 'guia-visto-eua.pdf';
        if (currentLang === 'en') fileName = 'usa-visa-guide.pdf';
        if (currentLang === 'es') fileName = 'guia-visa-eeuu.pdf';
        
        // Salva o PDF
        pdf.save(fileName);
        
        // Esconde o loading e mostra a notificação
        loading.style.display = 'none';
        notification.classList.add('show');
        
        // Esconde a notificação após 3 segundos
        setTimeout(() => {
          notification.classList.remove('show');
        }, 3000);
        
      } catch (error) {
        console.error('Erro ao gerar PDF:', error);
        loading.style.display = 'none';
        alert('Ocorreu um erro ao gerar o PDF. Tente novamente.');
      }
    }
    
    // Adiciona rolagem suave para links de navegação
    document.querySelectorAll('nav a').forEach(anchor => {
      anchor.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
        }
      });
    });
  </script>
</body>
</html>